<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disconnected</title>
    <link rel="stylesheet" href="end.css">
</head>
<body>

<audio id="heartbeat" autoplay>
    <source src="heartbeat.mp3" type="audio/mpeg">
</audio>

<div class="rain"></div>

<div class="text-box">
    <h1 id="typing"></h1>
    <p id="subtext"></p>
    <p class="lastseen" id="lastseen"></p>
    <p class="disconnect" id="disconnect"></p>
</div>

<script>
    const name = "My Trushu "; // ðŸ‘ˆ yaha naam daal de

    const mainText = `Some people are not meant to stay, ${name}.`;
    const subText = "They just teach you how to let go.";
    const lastSeenText = "last seen just now";
    const disconnectText = "Connection Lostâ€¦";

    let i = 0;

    function typeMain() {
        if (i < mainText.length) {
            document.getElementById("typing").innerHTML += mainText.charAt(i);
            i++;
            setTimeout(typeMain, 80);
        } else {
            setTimeout(() => {
                document.getElementById("subtext").innerHTML = subText;
            }, 700);

            setTimeout(() => {
                document.getElementById("lastseen").innerHTML = lastSeenText;
            }, 2000);

            setTimeout(() => {
                document.getElementById("disconnect").innerHTML = disconnectText;
            }, 3500);

            setTimeout(() => {
                document.body.classList.add("fadeout");
            }, 5500);
        }
    }

    typeMain();

    // heartbeat fade
    const audio = document.getElementById("heartbeat");
    let volume = 1;
    const fade = setInterval(() => {
        if (volume > 0.05) {
            volume -= 0.05;
            audio.volume = volume;
        } else {
            clearInterval(fade);
        }
    }, 500);
</script>

</body>
</html>
